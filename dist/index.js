!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self)["restful-resource"]={})}(this,(function(e){"use strict";const t={create:"/{model}/create",destroy:"/{model}/{id}",edit:"/{model}/{id}/edit",index:"/{model}",show:"/{model}/{id}",store:"/{model}",update:"/{model}/{id}"};e.createRestfulResource=function(e,o={}){const r={};let i=Object.keys(t);o.only?i=o.only:o.except&&(i=i.filter(e=>!o.except.includes(e)));const{model:n,prefix:d}=function(e){if(/\./.test(e)){const t=e.split("."),o=[];for(let e=0;e<t.length-1;e++)o.push(`${t[e]}/{id}`);return{model:t[t.length-1],prefix:`/${o.join("/")}`}}return{model:e}}(e);return i.forEach(e=>{r[e]=function(o){return function({id:e,model:t,path:o,prefix:r}){let i=[r,o].filter(Boolean).join("/");return i=i.replace(/model/g,t),Array.isArray(e)?e.forEach(e=>{i=i.replace(/id/,e?`${e}`:"")}):i=void 0!==e?i.replace(/id/,e):i.replace(/id/g,""),i.replace(/\{|\}/g,"").replace(/\/\//g,"/").replace(/\/\//g,"/")}({id:o,model:n,path:t[e],prefix:d})}}),new Proxy(r,{get(e,t,o){if(i.includes(t))return Reflect.get(e,t,o);throw new Error(`No route was defined for ${t}(). Make sure to define it in options.`)}})},Object.defineProperty(e,"__esModule",{value:!0})}));
